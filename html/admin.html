<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <!-- <link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon.png" /> -->
    <!-- <link rel="icon" type="image/png" href="assets/img/favicon.png" /> -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Asiri</title>

    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />

    <!-- Bootstrap core CSS     -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />

    <!--  Material Dashboard CSS    -->
    <link href="assets/css/material-dashboard.css" rel="stylesheet" />

    <!--  CSS for Demo Purpose, don't include it in your project     -->
    <!-- <link href="assets/css/demo.css" rel="stylesheet" /> -->

    <!--     Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,700,300|Material+Icons' rel='stylesheet' type='text/css'>


    <!-- Angular JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>

    <!-- Morris Chart JS -->
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-morris/1.3.0/angular-morris.min.js"></script>

</head>

<body>

    <div class="wrapper" id="YourElementId" ng-app="myApp" ng-controller="myCtrl">

        <div class="sidebar" data-color="red" data-image="assets/img/sidebar-1.jpg">

            <div class="logo">
                <a href="/" class="simple-text">
					Asiri Gram Center
				</a>
            </div>

            <div class="sidebar-wrapper">
                <!-- <ul class="nav">
                    <li>
                        <a href="/">
	                        <i class="material-icons">dashboard</i>
	                        <p>Dashboard</p>
	                    </a>
                    </li>

                    <li >
                        <a href="manage">
	                        <i class="material-icons">person</i>
	                        <p>Management</p>
	                    </a>
                    </li>
                    <li>
                        <a href="sales">
							<i class="material-icons">show_chart</i>
							<p>Sales</p>
						</a>
                    </li>
                    <li class="active">
                        <a href="admin">
	                        <i class="material-icons">assignment_ind</i>
	                        <p>Admin</p>
	                    </a>
                    </li>
                    <li>
                        <a href="logout">
	                        <i class="material-icons">power_settings_new</i>
	                        <p>Logout</p>
	                    </a>
                    </li>

                   

                </ul> -->
                <ul class="nav">
                    <li>
                        <a href="/">
	                        <i class="material-icons">dashboard</i>
	                        <p>Dashboard</p>
	                    </a>
                    </li>

                    <li>
                        <a href="manage">
	                        <i class="material-icons">person</i>
	                        <p>Management</p>
	                    </a>
                    </li>
                    <li>
                        <a href="sales">
							<i class="material-icons">trending_up</i>
							<p>Sales</p>
						</a>
                    </li>
                    <li >
                        <a href="billreview">
	                        <i class="material-icons">receipt</i>
	                        <p>Bill Review</p>
	                    </a>
                    </li>
                    <li  class="active">
                        <a href="admin">
	                        <i class="material-icons">assignment_ind</i>
	                        <p>Admin</p>
	                    </a>
                    </li>
                    <li>
                        <a href="logout">
	                        <i class="material-icons">power_settings_new</i>
	                        <p>Logout</p>
	                    </a>
                    </li>
                </ul>
            </div>
        </div>

        <div class="main-panel">
            <nav class="navbar navbar-transparent navbar-absolute">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse">
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
                        <a class="navbar-brand" href="#">Admin</a>
                    </div>
                </div>
            </nav>

            <div class="content">
                <div class="container-fluid">

                    <!-- ===== Row 1 =====-->
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card card-plain">
                                <div class="card-header" data-background-color="purple">
                                    <h4 class="title">Add Admin</h4>
                                    <p class="category">Add New Admin </p>
                                </div>
                                <div class="card-content">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <form>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="form-group label-floating has-error">
                                                            <label class="control-label">User Name</label>
                                                            <input type="text" class="form-control" name=name_1 id=name_1>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <div class="form-group label-floating has-success">
                                                            <label class="control-label">Password</label>
                                                            <input type="password" class="form-control" name=password_1 id=password_1>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="form-group label-floating has-success">
                                                                <label class="control-label">Password</label>
                                                                <input type="password" class="form-control" name=password_2 id=password_2>
                                                            </div>
                                                        </div>
                                                    </div>
                                                <button type="submit" class="btn btn-primary pull-right btn-round" onclick="submitUser()">Add</button>
                                                <div class="clearfix"></div>
                                            </form>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div class="table-responsive">
                                                <table class="table table-hover" id="userTBL">
                                                    <thead class="text-primary">
                                                        <!-- <th>#</th> -->
                                                        <th>User Name</th>
                                                        <!-- <th>User ID</th> -->
                                                        <!-- <th>NIC</th> -->
                                                        <!-- <th>Address</th> -->
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="x in UDATA">
                                                            <td id="user{{x.ID}}">{{x.NAME}}</td>
                                                            <!-- <td id="user{{x.ID}}">{{x.ID}}</td> -->
                                                            <!-- <td>{{x.NIC}}</td> -->
                                                            <!-- <td>{{x.ADD}}</td> -->
                                                            <td class="td-actions ">
                                                                <button type="button" rel="tooltip" title="Delete" class="btn btn-danger btn-simple btn-xs" id="r{{x.ID}}" onclick="delUser(this.id)">
																	<i class="material-icons">close</i>
																</button>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <footer class="footer">
                    <div class="container-fluid">
                        <nav class="pull-left">
                            
                        </nav>
                        <p class="copyright pull-right">
                            &copy;
                            <script>
                                document.write(new Date().getFullYear())
                            </script> Developed By <a href="http://www.ceymoss.com">CEYMOSS</a>
                        </p>
                    </div>
                </footer>
            </div>
        </div>

        <!-- START MODAL -->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
							<i class="material-icons">clear</i>
						</button>
                        <h4 class="modal-title" id="modal_title">Edit Product</h4>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-lg-12 col-md-12">
                                <!-- <h4>Edit Product</h4> -->
                                <!-- <h4>User Data</h4> -->
                                <div class="row">
                                    <div class="col-lg-12">
                                        <form>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group label-floating">
                                                        <label for="sel1"></label>
                                                        <label class="control-label">Product Name</label>
                                                        <input type="text" class="form-control" name=md_pname id=md_pname>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group label-floating">
                                                        <label for="sel1"></label>
                                                        <label class="control-label">Product ID</label>
                                                        <input type="number" class="form-control" name=md_pid id=md_pid>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group label-floating">
                                                        <label for="sel1"></label>
                                                        <label class="control-label">Unit Price</label>
                                                        <input type=number step=0.001 class="form-control" name=md_uprice id=md_uprice>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group label-floating">
                                                        <label for="sel1">Unit</label>
                                                        <select class="form-control" name=md_unit id=md_unit>
															<option>Kg</option>
															<option>Unit</option>
														</select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group label-floating">
                                                        <!-- <label for="sel1"></label> -->
                                                        <!-- <label class="control-label">ID</label> -->
                                                        <input type="hidden" class="form-control" name=md_id id=md_id disabled>
                                                    </div>
                                                </div>

                                            </div>

                                            <button type="submit" class="btn btn-success pull-right btn-round" onclick="submitEditProduct()">Save Edit</button>
                                            <div class="clearfix"></div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <!-- <a href="sales"><button type="button" class="btn btn-primary btn-simple">View Sales</button></a> -->
                        <button type="button" class="btn btn-danger btn-simple" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- END MODAL -->

    </div>

</body>

<!--   Core JS Files   -->
<script src="assets/js/jquery-3.1.0.min.js" type="text/javascript"></script>
<script src="assets/js/bootstrap.min.js" type="text/javascript"></script>
<script src="assets/js/material.min.js" type="text/javascript"></script>

<!--  Charts Plugin -->
<!-- <script src="assets/js/chartist.min.js"></script> -->

<!--  Notifications Plugin    -->
<script src="assets/js/bootstrap-notify.js"></script>

<!--  Google Maps Plugin    -->
<!-- <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script> -->

<!-- Material Dashboard javascript methods -->
<script src="assets/js/material-dashboard.js"></script>

<!-- Material Dashboard DEMO methods, don't include it in your project! -->
<!-- <script src="assets/js/demo.js"></script> -->
<script src="assets/js/ceymoss.js"></script>
<!--  Plugin for the Datepicker, full documentation here: http://www.eyecon.ro/bootstrap-datepicker/ -->
<!-- <script src="assets/js/bootstrap-datepicker.js" type="text/javascript"></script> -->

<!-- Control Center for Material Kit: activating the ripples, parallax effects, scripts from the example pages etc -->
<!-- <script src="assets/js/material-kit.js" type="text/javascript"></script> -->

<!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
<!-- <script src="assets/js/nouislider.min.js" type="text/javascript"></script> -->

<!-- <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script> -->

<script>

    // USER
    function submitUser() {
        var name = document.getElementById("name_1").value;
        var pw1 = document.getElementById("password_1").value;
        var pw2 = document.getElementById("password_2").value;
        if(pw1!=pw2){
            demo.showNotification('top', 'right', 'Passowrd Does Not Match', 1);
        } else {
            if (name != "" && pw1 != "" && pw2 != "") {
                angular.element(document.getElementById('YourElementId')).scope().AJSsubmitUser(name, pw1);
            } else {
                demo.showNotification('top', 'left', 'Empty Fields (Add User)', 4);
            }
        }
    }

    function delUser(id) {
        var newid = 'use' + id;
        var VAL = document.getElementById(newid).innerText;
        if (confirm("Delete User \n [ " + VAL + " ]") == true) {
            var splt = newid.split('user');
            angular.element(document.getElementById('YourElementId')).scope().AJSdelUser(splt[1]);
        }
    }

	/////////////////////////////////
    function getMyDate() {
        var currentTime = new Date();
        var hours = currentTime.getFullYear();
        var minutes = currentTime.getUTCMonth();
        var seconds = currentTime.getDate();
        minutes += 1;

        if (minutes < 10) {
            minutes = "0" + minutes;
        }
        if (seconds < 10) {
            seconds = "0" + seconds;
        }
        var str = "" + hours + "-" + minutes + "-" + seconds + "";
        return str;
    }
</script>

<!--Angular JS-->
<script>
    // var MURL = 'http://127.0.0.1';
    var MURL = 'http://asiri.herokuapp.com';

    var app = angular.module('myApp', ['angular.morris']);

    app.controller('myCtrl', function ($scope, $http) {

        $scope.getData = function (param) {
            $http({
                method: "POST",
                url: MURL + "/getadminuser",
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                data: "mode=" + param
            }).then(function (response) {
                var data = response.data;
                if (param == 'user') $scope.UDATA = data;
                // else if (param == 'branch') $scope.BDATA = data;
                // else if (param == 'products') $scope.PDATA = data;
            });
        }

        $scope.getData('user');

        $scope.AJSsubmitUser = function (name, password) {

            $http({
                method: "POST",
                url: MURL + "/addadminuser",
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                data: "us=" + name + "&pw=" + password
            }).then(function (response) {
                var data = response.data;
                if (data.status == true) {
                    document.getElementById("name_1").value = "";
                    document.getElementById("password_1").value = "";
                    document.getElementById("password_2").value = "";
                    demo.showNotification('top', 'center', 'User Insert Success!', 2);
                    $scope.getData('user');
                } else {
                    demo.showNotification('top', 'left', 'User Insert Failed!', 4);
                }

            });
        }

        $scope.AJSdelUser = function (id) {
            $http({
                method: "POST",
                url: MURL + "/deladminuser",
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                data: "id=" + id
            }).then(function (response) {
                var data = response.data;
                if (data.status == true) {
                    demo.showNotification('top', 'center', 'Delete User Success!', 2);
                    $scope.getData('user');
                } else {
                    demo.showNotification('top', 'left', 'Delete User Failed!', 4);
                }

            });
        }

    });

</script>


</html>